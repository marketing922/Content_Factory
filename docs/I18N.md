# üåè Internationalisation (i18n)

L'application est con√ßue pour √™tre multilingue d√®s le d√©part, supportant le **Fran√ßais**, l'**Anglais** et le **Chinois**.

## 1. Structure du Dictionnaire

Toutes les cha√Ænes de caract√®res de l'interface utilisateur sont centralis√©es dans :
`src/lib/translations.ts`

Ce fichier exporte :
- Un type `Language` ('fr' | 'en' | 'zh').
- Un objet `translations` contenant les cl√©s pour chaque langue.

### Hi√©rarchie des cl√©s :
Les traductions sont organis√©es par fonctionnalit√© ou par page :
- `common` : Boutons et messages g√©n√©riques (Sauvegarder, Annuler, Chargement...).
- `nav` : Liens de navigation et labels de la barre lat√©rale.
- `home` : Landing page.
- `dashboard` : Statistiques et listes r√©centes.
- `library` : Gestion de la biblioth√®que.
- `factory` : Param√®tres de cr√©ation d'article.
- `article` : √âditeur, TOC, et cartes de qualit√©/recherche.
- `faq` : Centre d'aide.

## 2. Utilisation du Hook `useTranslation`

Pour acc√©der aux traductions dans un composant "Client", on utilise le hook `useTranslation` (`src/hooks/use-translation.ts`).

### Exemple d'utilisation :
```tsx
import { useTranslation } from "@/hooks/use-translation";

export function MonComposant() {
  const { t, lang } = useTranslation();

  return (
    <div>
      <h1>{t.common.welcome}</h1>
      <p>Langue actuelle : {lang}</p>
    </div>
  );
}
```

## 3. Dynamisme de la Langue

1.  **Source de V√©rit√©** : La langue de l'utilisateur est stock√©e dans son profil Supabase (colonne `language`).
2.  **Synchronisation** : Au chargement, le hook `useProfile` r√©cup√®re la langue pr√©f√©r√©e.
3.  **R√©activit√©** : Puisque `useTranslation` d√©pend de `useProfile` , tout changement de langue dans les param√®tres met √† jour instantan√©ment l'int√©gralit√© de l'interface sans rechargement de page.

## 4. Ajout d'une Nouvelle Langue

Pour ajouter une langue (ex: Espagnol) :
1.  Ajouter 'es' au type `Language`.
2.  Cr√©er l'objet `es: { ... }` dans `translations.ts` en copiant la structure de `fr`.
3.  Mettre √† jour les composants de s√©lection (ex: `settings/page.tsx`) pour inclure l'option.

## 5. Bonnes Pratiques

- **Jamais de texte en dur** : √âviter `<h1>Bienvenue</h1>`. Utiliser toujours `<h1>{t.common.welcome}</h1>`.
- **Interpolation** : Pour les variables dynamiques (ex: "Page 1"), utiliser `.replace('{n}', value)` ou des templates strings si la cl√© le permet.
- **Fallbacks** : Le hook est configur√© pour retourner la version fran√ßaise si une traduction est manquante dans la langue s√©lectionn√©e.
